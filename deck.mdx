<!-- Component Imports -->

import { Box, Flex, Text, Image } from 'theme-ui';

<!-- Asset Imports -->

import Mono from './assets/Monolith.png';
import FAB from './assets/Front_and_Back.png';
import MicroS from './assets/Microservice.png';
import MicroF from './assets/Microfrontends.png';
import Spotify from './assets/spotify_friend_feed.png';
import SpotifyOutline from './assets/spotify_outlined.png';
import MFHost from './assets/mf_host.png';
import MFClient from './assets/mf_client.png';
import MFIndex from './assets/mf_indexhtml.png';

<!-- Start Presentation -->

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# Module Federation

### A Presentation

</Flex>

---

## What is the motivation behind module federation?

---

<Box style={{ width: '68vw' }}>

<Text>

"Multiple separate builds should form a single application. These separate builds should not have dependencies between each other, so they can be developed and deployed individually. This is often known as Micro-Frontends, but is not limited to that."

</Text>

<Text sx={{ fontSize: 24 }}>- Webpack 5 Documentation</Text>

</Box>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', alignItems: 'center', justifyContent: 'center' }}>

# A Brief History of Micro-Frontends...

</Flex>

---

<Box style={{ width: '65vw', textAlign: 'center' }}>

<Text style={{ display: 'inline' }}>
  The term{' '}
  <Text style={{ display: 'inline', color: 'tomato' }}>"Micro Frontends" </Text>
  was first used in 2016 in a ThoughtWorks Technology Radar to extend the concept
  of <Text style={{ display: 'inline', color: 'tomato' }}>micro services </Text>
  to the front-end world. Since then, some companies have adopted the pattern in
  a variety of different implementations, but it is still generally unknown.
</Text>

</Box>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', alignItems: 'center', justifyContent: 'center' }}>

# Popular Architecture Types

</Flex>

---

<Flex>
  <Flex>
    <img style={{ maxHeight: '60vh' }} src={Mono} alt='Monolith' />
  </Flex>
  <Steps>
    <Flex>
      <img style={{ maxHeight: '60vh' }} src={FAB} alt='Front and Back' />
    </Flex>
    <Flex>
      <img style={{ maxHeight: '60vh' }} src={MicroS} alt='Microservice' />
    </Flex>
  </Steps>
</Flex>

---

<Flex
  style={{
    height: '80vh',
    width: '100vw',
    justifyContent: 'center',
    alignItems: 'center',
  }}
>
  <img style={{ maxHeight: '100%' }} src={MicroF} alt='Microfrontend' />
</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# What does this look like in practice?

#### ...and why is it useful?

</Flex>

---

<Flex
  style={{
    height: '80vh',
    width: '100vw',
    justifyContent: 'center',
    alignItems: 'center',
  }}
>
  <img
    style={{ maxHeight: '100%' }}
    src={Spotify}
    alt='Spotify Friend Feed Broken'
  />
</Flex>

---

<Flex
  style={{
    height: '80vh',
    width: '100vw',
    justifyContent: 'center',
    alignItems: 'center',
  }}
>
  <img
    style={{ maxHeight: '100%' }}
    src={SpotifyOutline}
    alt='Spotify Friend Feed Broken'
  />
</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# And the code?

</Flex>

---

<Flex>
  <img
    style={{ maxHeight: '80vh' }}
    src={MFHost}
    alt='Module Federation Host Config'
  />
</Flex>

---

<Flex>
  <img
    style={{ maxHeight: '80vh' }}
    src={MFClient}
    alt='Module Federation Client Config'
  />
</Flex>

---

<Flex>
  <img
    style={{ maxHeight: '80vh' }}
    src={MFIndex}
    alt='Module Federation index.html file'
  />
</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# LIVE DEMO, BABY

</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

#### But first, let us offer a silent prayer to the gods of technology that this demo will work

</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# OKAY NOW LIVE DEMO, BABY

</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# Pros & Cons of Module Federation

</Flex>

---

<Flex
  bg='#5F8BFA'
  style={{
    height: '100vh',
    width: '100vw',
    alignItems: 'center',
    justifyContent: 'center',
  }}
>
  <Flex sx={{ width: '60vw' }}>
    <Box sx={{ flex: 1, marginLeft: '50px' }}>
      <Text sx={{ fontSize: 44, fontWeight: 'bold' }}>Pros</Text>
      <ul>
        <Steps>
          <li>
            Merge conflicts are more rare because developers are often working
            in different repos
          </li>
          <li>
            Each application is single-purpose, so its easy to navigate the code
            and reason about its purpose
          </li>
          <li>
            When an application is down (server not running, crash, critical
            bug, etc) it only affects that single module, not the greater system
          </li>
          <li>Each app can use the tools that best solve its problems</li>
          <li>
            Modules can be built once and serve many modules; single source of
            truth
          </li>
        </Steps>
      </ul>
    </Box>
  </Flex>
</Flex>

---

<Flex
  bg='#5F8BFA'
  style={{
    height: '100vh',
    width: '100vw',
    alignItems: 'center',
    justifyContent: 'center',
  }}
>
  <Flex sx={{ width: '60vw' }}>
    <Box sx={{ flex: 1, marginLeft: '50px' }}>
      <Text sx={{ fontSize: 44, fontWeight: 'bold' }}>Cons</Text>
      <ul>
        <Steps>
          <li>
            Modules are served across the network, bad for slow connections
          </li>
          <li>Complex deployment pipeline</li>
          <li>Many services to run either locally or in custom cloud server</li>
          <li>
            If you're not thoughtful with your architecture, stories could touch
            multiple repos, creating a very arduous development process
          </li>
        </Steps>
      </ul>
    </Box>
  </Flex>
</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# Q&A Time

</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# External Links

<a
  style={{ marginTop: '20px', color: 'white' }}
  href='https://webpack.js.org/concepts/module-federation/'
>
  Webpack 5
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://micro-frontends.org/'>
  Micro-Frontends
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://www.thoughtworks.com/radar/techniques/micro-frontends'>
  ThoughtWorks Technology Radar: Micro-Frontends
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://the-tractor.store/'>
  Tractor Demos
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://github.com/dandrewgarvin/module-federation-masterclass'>
  This Repo (ooh recursion)
</a>

</Flex>

---

<Flex bg="#5F8BFA" style={{ height: '100vh', width: '100vw', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>

# Credits

<a
  style={{ marginTop: '20px', color: 'white' }}
  href='https://github.com/jxnblk/mdx-deck'
>
  MDX-Deck
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://carbon.now.sh'>
  Carbon
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://cleanshot.com/'>
  Cleanshot
</a>
<a style={{ marginTop: '20px', color: 'white' }} href='https://tailwindui.com/'>
  TailwindUI / TailwindCSS
</a>

</Flex>
